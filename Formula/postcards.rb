# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Postcards < Formula
  desc "Tool for creating digital versions of physical postcards"
  homepage "https://dotpostcards.org/cli/postcards"
  version "0.15.10"
  license "MIT"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/jphastings/dotpostcard/releases/download/v0.15.10/dotpostcard_Darwin_x86_64.tar.gz"
      sha256 "6e1a68751933129b4b1e146f7ebf5a342dfb26f6edae8deb58f272542331347f"

      def install
        bin.install "postcards"
        bin.install "postoffice"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/jphastings/dotpostcard/releases/download/v0.15.10/dotpostcard_Darwin_arm64.tar.gz"
      sha256 "bac5ecd176f29970c10344966cac8c04f74c645ee0b989a72f970a46b4f1ce38"

      def install
        bin.install "postcards"
        bin.install "postoffice"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/jphastings/dotpostcard/releases/download/v0.15.10/dotpostcard_Linux_x86_64.tar.gz"
      sha256 "68fc730c836b4c37b12a095b38dd1319b62dc3fab4ac52160e4246710a799d60"
      def install
        bin.install "postcards"
        bin.install "postoffice"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/jphastings/dotpostcard/releases/download/v0.15.10/dotpostcard_Linux_arm64.tar.gz"
      sha256 "db622f7395bb0e1eff35a070a8ce6a4e92838007fe429ce9785b18c42748d630"
      def install
        bin.install "postcards"
        bin.install "postoffice"
      end
    end
  end

  test do
    resource("hello.postcard").stage do
      expected_start = "Convert digital representations of postcards between various formats.\n"
      actual_output = shell_output("#{bin}/postcards help")
      assert actual_output.start_with?(expected_start)
    end
  end
end
